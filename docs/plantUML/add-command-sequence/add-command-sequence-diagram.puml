@startuml Add Command Sequence Diagram

actor "user:User" as User
participant "handler:InteractivePromptHandler" as InteractivePromptHandler
participant "projectList:ProjectList" as ProjectList
participant "project:Project" as Project
participant "task:Task" as Task

User -> InteractivePromptHandler: types "add" command
activate InteractivePromptHandler
InteractivePromptHandler -> ProjectList: getAvailableProjects()
activate ProjectList
ProjectList --> InteractivePromptHandler: return project list
deactivate ProjectList
InteractivePromptHandler -> User: "Select project [1-3]:"

User -> InteractivePromptHandler: selects project number
InteractivePromptHandler -> ProjectList: getProjectByIndex(selection)
activate ProjectList
ProjectList --> InteractivePromptHandler: return selected Project
deactivate ProjectList

InteractivePromptHandler -> User: "Enter task description:"
User -> InteractivePromptHandler: enters description

InteractivePromptHandler -> User: "Priority [H/M/L] (default M):"
User -> InteractivePromptHandler: enters priority or presses enter

InteractivePromptHandler -> User: "Deadline (optional, press enter to skip):"
User -> InteractivePromptHandler: enters deadline or presses enter

InteractivePromptHandler -> Project: addTask(description, priority, deadline)
activate Project
create Task
Project -> Task: new Task(description, priority, deadline)
activate Task
Task --> Project
deactivate Task
Project --> InteractivePromptHandler: task added successfully
deactivate Project

InteractivePromptHandler -> User: "Task added successfully!"
deactivate InteractivePromptHandler

@enduml